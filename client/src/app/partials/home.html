<div class="container" ng-controller="mainCtrl">
  <div class="btn-group btn-group-justified btn-group-wizard">
      <a class="btn btn-wizard" ng-class="{'active':badge.step == 'one'}"><span class="badge">1</span>First Step</a>
      <a href="#/2" class="btn btn-wizard" ng-class="{'active':badge.step == 'two'}"><span class="badge">2</span>Second Step</a>
      <a href="#" class="btn btn-wizard" ng-class="{'active':badge.step == 'three'}"><span class="badge">3</span>Third Step</a>
      <a href="#" class="btn btn-wizard" ng-class="{'active':badge.step == 'four'}"><span class="badge">4</span>Last Step</a>
    </div>

    <div ng-show="badge.step == 'one'">
      <div class="upload-div">
        <div class="upload-buttons">
          <div id="editArea">
              <div class="upload-container">
                <legend>Upload File</legend>
                  <!-- <div class="col-md-12">
                     <input type="file" file-model="myFile"/>
                  </div> -->
                  <div class="row">
                    <div class="col-lg-12 up-buttons">
                      <div ng-file-select="" ng-model="files" ng-model-rejected="rejFiles" class="btn btn-default" ng-multiple="false" ng-accept="'.csv,.xls'"  ng-model-rejected="rejFiles" tabindex="0">Choose file</div>
                    </div>
                  </div>
                  <div class="row">
                      <div class="orClass">OR</div>
                  </div>
                  <div class="row">
                    <div ng-file-drop="" ng-file-select=""
                    ng-model="files" ng-model-rejected="rejFiles"
                    drag-over-class="{accept:'dragover', delay:100}" 
                    class="drop-box"
                    ng-multiple="false" ng-accept="'.csv,.xls'">
                      Drop CSVs or XLSs<div>here</div>
                    </div>
                    <div ng-no-file-drop class="drop-box">File Darg&Drop not supported on your browser</div>
                  </div>
                <br/>
              </div>
          </div>
        </div>
        <ul ng-show="rejFiles.length > 0" class="response">
      <!-- ngRepeat: f in rejFiles -->
      <li class="sel-file ng-binding ng-scope" ng-repeat="f in rejFiles">
      <span><b>Rejected File: </b>{{f.name}}</span>
      </li><!-- end ngRepeat: f in rejFiles -->
    </ul>
        <ul ng-show="files.length > 0" class="response">
          <li class="sel-file" ng-repeat="f in files">
            <img ng-show="f.dataUrl" ng-src="{{f.dataUrl}}" class="thumb">
            <span class="progress" ng-show="f.progress >= 0">           
              <div style="width:{{f.progress}}%">{{f.progress}}%</div>
            </span>       
            <button class="button" ng-click="f.upload.abort();f.upload.aborted=true" 
                ng-show="f.upload != null && f.progress < 100 && !f.upload.aborted">Abort</button>
              <span><b>Uploaded File: </b>{{f.name}} - size: {{f.size}}B - type: {{f.type}}</span>

            <a ng-show="f.result" href="javascript:void(0)" ng-click="f.showDetail = !f.showDetail">details</a>
            <div ng-show="f.showDetail">
              <br/>
              <div data-ng-show="f.result.result == null">{{f.result}}</div>
              <ul>
                <li ng-repeat="item in f.result.result">
                  <div data-ng-show="item.name">file name: {{item.name}}</div>
                  <div data-ng-show="item.fieldName">name: {{item.fieldName}}</div>
                  <div data-ng-show="item.size">size on the serve: {{item.size}}</div>
                  <div data-ng-show="item.value">value: {{item.value}}</div>
                </li>
              </ul>
              <div data-ng-show="f.result.requestHeaders" class="reqh">request headers: {{f.result.requestHeaders}}</div>
            </div>
        </ul>

        <br/>
       <!--  <div class="err" ng-show="errorMsg != null">{{errorMsg}}</div> -->
        <div class="col-lg-12 btn-set">
          <button class="btn btn-primary pull-right" ng-show="files" ng-click="startRead(files);">Next</button>
        </div>
    </div>  
    
  </div>
  <div ng-show ="badge.step == 'two'">
    <div class="">
      <div class="upload-container">
          <legend>File Preview</legend>
      </div>
      <div class="col-lg-6">
        <form class="form-horizontal">
          <div class="form-group">
            <label class="col-sm-4 control-label">First line include header</label>
            <div class="col-sm-8">
              <input type="checkbox" ng-model="fileStyle.isHeader" />
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-4 control-label">Date Format</label>
            <div class="col-sm-8">
              <select name="datePattern" id="date" ng-model="fileStyle.datePattern" class="form-control">
                <option value="">select format</option>
                <option value="dd.MM.yyyy">dd.MM.yyyy</option>
                <option value="MM/dd/yyyy">MM/dd/yyyy</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-4 control-label">Number Format</label>
            <div class="col-sm-8">
              <select name="numberPattern" id="number" ng-model="fileStyle.numberPattern" class="form-control">
                <option value="">select format</option>
                <option value="#,###.##">#,###.##</option>
                <option value="#.##">#.##</option>
                <option value="#.###,##">#.###,##</option>
                <option value="#,##">#,##</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-4 control-label">Date Format</label>
            <div class="col-sm-8">
              <select name="decimalSeparator" ng-model="fileStyle.decimalSeparator" class="form-control">
                <option value="">select format</option>
                <option value=".">Dot(.)</option>
                <option value=",">Comma(,)</option>
              </select>
            </div>
          </div> 
        </form>
      </div>
     
      <div >
        <table class="table table-bordered">
          <thead >
            <tr>
              <th ng-repeat="col in columnShowList">{{col.colName}}</th>
            </tr>
          </thead>
          <tbody>
            <tr >
              <td ng-repeat="row in importedDatar1">{{row}}</td>
            </tr>
            <tr >
              <td ng-repeat="row in importedDatar2">{{row}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
   
    <div class="col-lg-2 col-lg-offset-10 btn-set">
      <button class="btn btn-primary"  ng-click="firstStep()">Back</button>
      <button class="btn btn-primary"  ng-click="thirdStep(fileStyle)">Next</button>
    </div>
  </div>  
  <div ng-show ="badge.step == 'three'">
    <div class="col-lg-12 btn-set">
      <div ng-include="'app/partials/mapping.html'"></div>
    </div>
  </div>  
  <div ng-show ="badge.step == 'four'">
    <div class="col-lg-12 btn-set">
      <button class="btn btn-primary pull-right"  ng-click="thirdStep()">Back</button>
    </div>
  </div>  
</div>
    